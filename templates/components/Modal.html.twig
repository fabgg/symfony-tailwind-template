{% props id, title, size = 'md' %}

{% set sizes = {
    sm: 'max-w-sm',
    md: 'max-w-lg',
    lg: 'max-w-3xl',
} %}

<div id="{{ id }}"
     data-controller="modal"
     data-modal-open-value="false"
     class="hidden fixed inset-0 z-50 overflow-y-auto">
    {# Overlay + Dialog wrapper #}
    <div data-action="click->modal#closeOnOverlay" class="fixed inset-0 bg-black/50 transition-opacity flex items-center justify-center p-4">
        <div class="relative w-full {{ sizes[size] ?? sizes.md }} bg-surface rounded-lg shadow-xl border border-border transform transition-all"
             data-modal-target="dialog">
            {# Header #}
            <div class="flex items-center justify-between px-6 py-4 border-b border-border">
                <h3 class="text-lg font-semibold text-text-primary">{{ title }}</h3>
                <button type="button" data-action="modal#close" class="text-text-muted hover:text-text-primary transition-colors">
                    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
            </div>

            {# Body + optional Footer via Modal:Footer sub-component #}
            {% block content %}{% endblock %}
        </div>
    </div>
</div>
